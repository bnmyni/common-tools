{
  "template": "log-*",
  "order":    1,
  "settings": {
    "number_of_shards": 4,
    "number_of_replicas": 0,
    "analysis": {
      "tokenizer": {
        "one_char" :{
          "type" : "nGram",
          "min_gram" : 1,
          "max_gram" : 1,
          "token_chars" : [ "letter", "digit", "whitespace", "punctuation", "symbol","math_symbol","control"]
        }
      },
      "analyzer": {
        "substring_match" : {
          "type" : "custom",
          "tokenizer" : "pattern",
          "filter" : ["lowercase"],
          "char_filter" : []
        }
      }
    }
  },

  "mappings": {
    "_default_": {
      "_all": {
        "enabled": true
      }
    },
    "log" : {
      "_ttl": {
        "enabled": true,
        "default": "7d"
      },
      "properties" : {
        "time" : {
          "type": "long"
        },
        "log_level" : {
          "type" : "string",
          "index": "not_analyzed"
        },
        "machine" : {
          "type" : "string",
          "index": "not_analyzed"
        },
        "app_id" : {
          "type" : "string",
          "index": "not_analyzed"
        },
        "instance_id" : {
          "type" : "string",
          "index": "not_analyzed"
        },
		"container_name" : {
		  "type" : "string",
          "index": "not_analyzed"
		},
        "log_type" : {
          "type" : "string",
          "index": "not_analyzed"
        },
        "log_data" : {
            "type" : "string",
            "analyzer": "english"
        },
		"filename" : {
			"type" : "string",
            "index": "not_analyzed"
		},
		"service_name" : {
			"type" : "string",
            "index": "not_analyzed"
		},
		"region_name" : {
			"type" : "string",
            "index": "not_analyzed"
		},
		"region_id" : {
			"type" : "string",
            "index": "not_analyzed"
		},
		"service_full_name" : {
			"type" : "string",
            "index": "not_analyzed"
		},
		"paths" : {
			"type" : "string",
            "index": "not_analyzed"
		},
        "@timestamp" : {
          "type" : "string",
		  "index": "not_analyzed"
        }
      }
    }
  }
}
